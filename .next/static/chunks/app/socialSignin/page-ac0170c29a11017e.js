(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[537],{8394:function(t,e,s){Promise.resolve().then(s.bind(s,4560))},3809:function(t,e,s){"use strict";var r=s(7563);s.o(r,"useParams")&&s.d(e,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(e,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(e,{useSearchParams:function(){return r.useSearchParams}})},436:function(t,e,s){"use strict";s.d(e,{Bb:function(){return o},gj:function(){return n}});var r=s(5461);let n=t=>r.Z.get(t),o=(t,e)=>{r.Z.set(t,e,{expires:30/1440,secure:!0,sameSite:"Strict"})}},1209:function(t,e,s){"use strict";s.d(e,{be:function(){return a},et:function(){return c},zG:function(){return h}});var r=s(1025),n=s(436),o=s(8070);let i="".concat(window.location.origin,"/api"),a=r.Z.create({baseURL:i,headers:{"Content-Type":"application/json"}});function u(t){let e=r.Z.create({baseURL:"".concat("http://180.224.28.66","/").concat(t),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat((0,n.gj)("accessToken")),"X-CSRF-Token":(0,n.gj)("csrfToken")||""}});return e.interceptors.request.use(t=>{let e=(0,n.gj)("accessToken"),s=(0,n.gj)("csrfToken");return"Bearer ".concat(e)!==t.headers.Authorization&&(t.headers.Authorization="Bearer ".concat(e)),s&&(t.headers["X-CSRF-Token"]=s),t}),e}console.log("getAuthorityCookie : ","Bearer ".concat((0,n.gj)("accessToken"))),r.Z.create({baseURL:"".concat(o.env.NEXT_PUBLIC_API_URL),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat((0,n.gj)("refreshToken")),"X-CSRF-Token":(0,n.gj)("csrfToken")||""}}).interceptors.request.use(t=>{let e=(0,n.gj)("refreshToken"),s=(0,n.gj)("csrfToken");return"Bearer ".concat(e)!==t.headers.Authorization&&(t.headers.Authorization="Bearer ".concat(e)),s&&(t.headers["X-CSRF-Token"]=s),t});let c=u("auth/");u("user/");let h=t=>{r.Z.isAxiosError(t)?t.response?console.error("API 에러:",t.response.data):t.request&&console.error("서버 응답 없음"):t instanceof Error?console.error("JavaScript Error",t.message):console.error("알 수 없는 에러 발생")}},4560:function(t,e,s){"use strict";s.d(e,{default:function(){return m}});var r=s(8392),n=s(4080),o=s(2319),i=s.n(o),a=s(3809),u=s(3004),c=s(1209),h=s(8483),l=s(436);let p=async t=>(await c.et.post("google",{accessToken:t})).data;var d=s(8949);function f(){let t=(0,a.useSearchParams)(),{mutate:e,isSuccess:s,isPending:o}=function(){let t=(0,a.useRouter)();return(0,h.D)({mutationFn:p,onSuccess:e=>{console.log("로그인 성공:",e),(0,l.Bb)("accessToken",e.accessToken),(0,l.Bb)("refreshToken",e.refreshToken),t.push("/")},onError:t=>{console.error("로그인 실패:",t)}})}(),[c,f]=(0,d.useState)(null);return(0,d.useEffect)(()=>{let s=t.get("code");s&&(f(s),e(s))},[t,e]),(0,r.jsx)("section",{className:i().page,children:(0,r.jsx)("div",{className:i().box_wrap,children:(0,r.jsxs)("div",{className:i().icon_wrap,children:[(0,r.jsx)(n.JO,{src:u.Z,alt:"완료 페이지 아이콘",width:90,height:90}),(0,r.jsx)("strong",{className:i().sub_title,children:o?"로그인 처리 중...":s?"로그인이 완료되었어요!":"로그인을 진행 중입니다."})]})})})}function m(){return(0,r.jsx)(d.Suspense,{fallback:(0,r.jsx)("p",{children:"로딩 중..."}),children:(0,r.jsx)(f,{})})}},2319:function(t){t.exports={page:"completed_page__KpkBK",box_wrap:"completed_box_wrap__TdBPd",icon_wrap:"completed_icon_wrap___Qc78",sub_title:"completed_sub_title__tkIYM",button_wrap:"completed_button_wrap__cDaOv"}},3004:function(t,e){"use strict";e.Z={src:"/_next/static/media/icon-check.dc4c24a3.svg",height:90,width:90,blurWidth:0,blurHeight:0}},8483:function(t,e,s){"use strict";s.d(e,{D:function(){return l}});var r=s(8949),n=s(5183),o=s(9351),i=s(9711),a=s(840),u=class extends i.l{#t;#e=void 0;#s;#r;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#t.defaultMutationOptions(t),(0,a.VS)(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),e?.mutationKey&&this.options.mutationKey&&(0,a.Ym)(e.mutationKey)!==(0,a.Ym)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#n(),this.#o()}mutate(t,e){return this.#r=e,this.#s?.removeObserver(this),this.#s=this.#t.getMutationCache().build(this.#t,this.options),this.#s.addObserver(this),this.#s.execute(t)}#n(){let t=this.#s?.state??(0,n.R)();this.#e={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#o(t){o.V.batch(()=>{if(this.#r&&this.hasListeners()){let e=this.#e.variables,s=this.#e.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,e,s),this.#r.onSettled?.(t.data,null,e,s)):t?.type==="error"&&(this.#r.onError?.(t.error,e,s),this.#r.onSettled?.(void 0,t.error,e,s))}this.listeners.forEach(t=>{t(this.#e)})})}},c=s(2225);function h(){}function l(t,e){var s,n;let i=(0,c.NL)(e),[a]=r.useState(()=>new u(i,t));r.useEffect(()=>{a.setOptions(t)},[a,t]);let l=r.useSyncExternalStore(r.useCallback(t=>a.subscribe(o.V.batchCalls(t)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),p=r.useCallback((t,e)=>{a.mutate(t,e).catch(h)},[a]);if(l.error&&(s=a.options.throwOnError,n=[l.error],"function"==typeof s?s(...n):!!s))throw l.error;return{...l,mutate:p,mutateAsync:l.mutate}}}},function(t){t.O(0,[367,436,982,345,80,936,904,744],function(){return t(t.s=8394)}),_N_E=t.O()}]);